import { Steps } from "nextra/components";

# Zodμ™€ ν•¨κ» μ‚¬μ©ν•κΈ°

[Zod](https://zod.dev/)μ™€ ν•¨κ» μ‚¬μ©ν•μ—¬ κ°•λ ¥ν• λ°μ΄ν„° νƒ€μ… κ²€μ¦μ„ κµ¬ν„ν•λ” λ°©λ²•μ„ μ•μ•„λ³΄κ² μµλ‹λ‹¤.  
Zodλ¥Ό ν†µν• μ¤ν‚¤λ§ κΈ°λ° κ²€μ¦μΌλ΅ λ°νƒ€μ„ μ΄μ „μ— μ¤λ¥λ¥Ό λ°©μ§€ν•κ³  λ°μ΄ν„° μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•  μ μμµλ‹λ‹¤.

<Steps>

## μ¤ν‚¤λ§ μ •μν•κΈ°

μ΄λ²¤νΈλ³„ ν•„λ“μ™€ νƒ€μ…μ„ Zod κ°μ²΄λ΅ μ„ μ–Έν•©λ‹λ‹¤.

```tsx {4-5}
import { z } from "zod";

export const schemas = {
  page_view: z.object({ title: z.string() }),
  click_button: z.object({ target: z.string() }),
};
```

## νΈλν‚Ή μ΄λ²¤νΈ μ •μν•κΈ°

μ¤ν‚¤λ§λ¥Ό createTrackerμ— μ—°κ²°ν•΄ μ΄λ²¤νΈ νλΌλ―Έν„°λ¥Ό μλ™ κ²€μ¦ν•©λ‹λ‹¤.

```tsx {5-9}
import { createTracker } from "@offlegacy/event-tracker";
import { schemas } from "./schemas";

export const [Track, useTracker] = createTracker<{}, {}, typeof schemas>({
  schemas: {
    schemas,
    onSchemaError: (error) => console.error("μ¤ν‚¤λ§ κ²€μ¦ μ‹¤ν¨:", error),
    abortOnError: true,
  },
});
```

## κ²€μ¦λ μ΄λ²¤νΈ μ‚¬μ©ν•κΈ°

μ„ μ–Έν• μ»΄ν¬λ„νΈμ™€ track ν•¨μλ΅ νƒ€μ…μ΄ λ³΄μ¥λ μ΄λ²¤νΈλ¥Ό μ „μ†΅ν•©λ‹λ‹¤.

```tsx {11, 17-19}
import { Track } from "./event-tracker";

function HomePage() {
  return (
    <main>
      <h1>ν™νμ΄μ§€</h1>

      {/* β… Zod Schemaλ΅ κ²€μ‚¬ν•μ—¬ νƒ€μ… μ—λ¬κ°€ λ°μƒν•μ§€ μ•μµλ‹λ‹¤. */}
      <Track.PageView params={{ title: "ν™νμ΄μ§€" }} />

      {/* π¨ Zod Schemaλ΅ κ²€μ‚¬ν•μ—¬ νƒ€μ… μ—λ¬κ°€ λ°μƒν•©λ‹λ‹¤. */}
      {/* <Track.PageView params={{ title: 123 }} /> *}

      {/* β… Zod Schemaλ΅ κ²€μ‚¬ν•μ—¬ νƒ€μ… μ—λ¬κ°€ λ°μƒν•μ§€ μ•μµλ‹λ‹¤. */}
      <Track.Click params={{ target: "start-button" }}>
        <button>μ‹μ‘ν•κΈ°</button>
      </Track.Click>

      {/* π¨ Zod Schemaλ΅ κ²€μ‚¬ν•μ—¬ νƒ€μ… μ—λ¬κ°€ λ°μƒν•©λ‹λ‹¤. */}
      {/* <Track.Click params={{}}>
          <button onClick={() => track({ target: "start-button" })}>μ‹μ‘ν•κΈ°</button>
        </Track.Click> */}
    </main>
  );
}
```

</Steps>
